<!--Hub for the profile page-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/9e304416f8.js" crossorigin="anonymous"></script>
    <title>Budget Tracker: Profile</title>
    <style>
        /* Additional styles for transactions section */
        .filters {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-group {
            flex: 1;
            min-width: 200px;
        }

        .filter-group label {
            display: block;
            margin-bottom: 5px;
            color: #666;
            font-size: 14px;
            font-weight: 500;
        }

        .filter-group select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e1e1e1;
            border-radius: 6px;
            font-size: 14px;
        }

        .transactions-container {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .transaction-list {
            max-height: 600px;
            overflow-y: auto;
        }

        .transaction-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid #f0f0f0;
            transition: background 0.2s ease;
        }

        .transaction-item:hover {
            background: #f8f9fa;
        }

        .transaction-item:last-child {
            border-bottom: none;
        }

        .transaction-info {
            flex: 1;
        }

        .transaction-type-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .transaction-type-badge.income {
            background: #d4edda;
            color: #155724;
        }

        .transaction-type-badge.expense {
            background: #f8d7da;
            color: #721c24;
        }

        .transaction-category {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .transaction-description {
            font-size: 14px;
            color: #666;
            margin-bottom: 5px;
        }

        .transaction-date {
            font-size: 12px;
            color: #999;
        }

        .transaction-amount {
            font-size: 24px;
            font-weight: 700;
            text-align: right;
        }

        .transaction-amount.income {
            color: #28a745;
        }

        .transaction-amount.expense {
            color: #dc3545;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }

        .empty-state h3 {
            margin-bottom: 10px;
            color: #333;
        }

        .empty-state p {
            margin-bottom: 20px;
        }

        .btn {
            padding: 10px 20px;
            border-radius: 6px;
            border: none;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        @media (max-width: 768px) {
            .filters {
                flex-direction: column;
            }

            .filter-group {
                width: 100%;
            }

            .transaction-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .transaction-amount {
                text-align: left;
            }
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <button class="toggle" id="toggle"><i class="fa-solid fa-bars"></i></button>
        <a href="#overview" id="overview_button">
            <i class="fas fa-sitemap"></i><span> Overview</span></a>
        <a href="#budgetplans" id="budget_button">
            <i class="fas fa-piggy-bank"></i><span> Budget Plans</span></a>
        <a href="#transactions" id="transactions_button">
            <i class="fa-solid fa-list"></i><span> Transactions</span></a>
        <a onclick="location.href='transaction.html'">
            <i class="fa-solid fa-plus"></i><span> Add Transaction</span></a>
        <a class="sidebar_bottom" onclick="location.href='main.html'">
            <i class="fa-solid fa-house"></i><span> Home</span></a>
        <a href="#Learn More">
            <i class="fa-solid fa-circle-info"></i><span> Learn More</span></a>
    </div>

    
    <!-- Content Area (Visible on Default)-->
    <div class="content" id="overview_section">
        <h1>Hello User!</h1>
        <p>Content will change dynamically below</p>
        <div class="content_grid">
            <img src="https://gifdb.com/images/high/skeleton-typing-in-calculator-ef69fxy6relx2ed8.gif">
            <img src="https://media.tenor.com/Tr4svi_j4zEAAAAM/skeleton-dancing.gif">
        </div>
    </div>

    <!-- Budget Section (Hidden by Default)-->
    <div class="hidden content" id="budget_section"> 
        <!-- Form will show only if the user hasn't selected a plan yet -->
         <h2>Budget Plans</h2>
        <form id="plan_form">
            <p>Select the budget plan that fits your needs!</p>
            <label for="income">Enter your monthly income: </label>
            <input id="monthly_income" type="number" min="1" required>
            <br><br>
            <label for="plan_type">Select your budget plan: </label>
            <select id="plan_select" name="plans">
                <option value="50/30/20">50/30/20</option>
                <option value="zero-based">Zero-Based</option>
                <option value="pay-yourself-first">Pay Yourself First</option>
            </select>
            <button type="submit" id="save_plan_button">Save Plan</button>
            <br><br>
            <div class="content_grid">
                <h3 class="center budget_font ">50/30/20 
                    <br><i class="fa-solid fa-chart-pie"></i></h3>
                <p class="budget_font">The 50/30/20 plan is the most popular budget plan.
                    50% of your net income goes to needs, your essential expenses.
                    30/% of your net income goes to your wants, your non-essential expenses.
                    20% of your net income goes to your financial goals, Whether it is adding to 
                    your savings, paying off debts, or investing your money.
                </p>
                <h3 class="center budget_font">Zero-Based 
                    <br><i class="fas fa-balance-scale"></i></h3>
                <p class="budget_font">The Zero-Based budget plan is for those who want to know exactly where their
                    money is going. Every cent of your income is categorized into groups, such as 
                    groceries, clothes, savings, loan repayment, etc. It is the most detailed approach
                    to budgeting.
                </p>
                <h3 class="center budget_font">Pay-Yourself-First
                    <br><i class="fas fa-hand-holding-usd"></i></h3>
                <p class="budget_font">The Pay-Yourself-First method is the simplest approach to budgeting.
                    It prioritizes your savings before expenses. When you receive your monthly income, you set aside
                    a certain amount first. After you deposit into your savings, you pay for your essential,
                    non-negotiable expenses next, followed by non-essential ones.
                </p>
            </div>
        </form>
        
        <!-- Will display if user has a saved plan -->
        <div id="plan_display" style="display:none">
            <h3>Your Current Budget Plan: </h3>
            <p id="current_plan_txt"></p>
            
            <!-- TO DO: Make button look nicer-->
            <button id="change_plan_button" class="button2">Change Plan</button>
            <!-- TO DO: Have this area be different based on selected plan-->
            <div id="plan1" class="content_grid">
                <p>Replace this area with a pie chart.</p>
                <img src="https://media2.giphy.com/media/v1.Y2lkPTZjMDliOTUybjIzZHJxajJ5enVhYXk0MXE1ZzZqeHF5OWY3bnE4cnU5ZTVhd2hxaiZlcD12MV9naWZzX3NlYXJjaCZjdD1n/ND6xkVPaj8tHO/200w.gif">
            </div>
            <div id="plan2" class="content_grid">
                <p>This is the zero-based plan</p>
                <img src="https://www.gatcreek.com/media/catalog/product/cache/6c3e678c195f0427371f457005f7fda8/3/9/39b73af9173da43f426636d8abe865aa4825ea31512050ede7e67df333e81ad4_1.jpeg">
            </div>
            <div id="plan3" class="content_grid">
                <p>Placeholder</p>
            </div>
        </div>

        <div id="plan_msg" class="message"></div> 
    </div>

    <!-- Transactions Section (Hidden by Default)-->
    <div class="hidden content" id="transactions_section">
        <h2>My Transactions</h2>
        
        <div class="filters">
            <div class="filter-group">
                <label for="filterType">Type</label>
                <select id="filterType">
                    <option value="all">All Transactions</option>
                    <option value="income">Income Only</option>
                    <option value="expense">Expenses Only</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="filterCategory">Category</label>
                <select id="filterCategory">
                    <option value="all">All Categories</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="sortBy">Sort By</label>
                <select id="sortBy">
                    <option value="date-desc">Date (Newest First)</option>
                    <option value="date-asc">Date (Oldest First)</option>
                    <option value="amount-desc">Amount (High to Low)</option>
                    <option value="amount-asc">Amount (Low to High)</option>
                </select>
            </div>
        </div>

        <div class="transactions-container">
            <div class="transaction-list" id="transactionList">
                <div class="loading">Loading transactions...</div>
            </div>
        </div>
    </div>

    <div class="hidden content" id="import">
        <h2>CSV import</h2>
    <a onclick="location.href='import.html'">
        <i class="fa-solid fa-file-import"></i><span> Import CSV</span>
    </a>

    <script type="module" src="profile_script.js"></script>
    <script type="module" src="budget_plan.js"></script>
</body>
</html>